!function(){var a={currentCat:null,cats:[{name:"zed",src:"img/cat.jpg",clicks:0},{name:"furry",src:"img/kitty.jpg",clicks:0},{name:"jinxy",src:"img/jinxy.jpg",clicks:0},{name:"cutie",src:"img/cutie.jpg",clicks:0}],init:function(){localStorage.cats||(localStorage.cats=JSON.stringify(this.cats))},add:function(a){JSON.parse(localStorage.cats);this.cats.push(a),localStorage.cats=JSON.stringify(this.cats)},updateCurrentCat:function(a){this.currentCat.name=a.name,this.currentCat.src=a.src,this.currentCat.clicks=a.clicks},getAllCats:function(){return this.cats}},b={init:function(){a.init(),a.currentCat=a.cats[0],d.init(),c.init(),e.init()},getCats:function(){return a.getAllCats()},getCurrentCat:function(){return a.currentCat},swapCat:function(b){a.currentCat=b,e.render()},incrementClickCount:function(){a.currentCat.clicks+=1,c.render(),e.render()},updateCurrentCat:function(b){a.updateCurrentCat(b),c.render(),e.render()}},c={init:function(){this.catNameElement=document.getElementById("cat-name"),this.catPictureElement=document.getElementById("catPicture"),this.catCountElement=document.getElementById("cat-count"),this.catImageElement=document.getElementById("cat-img"),this.catImageElement.addEventListener("click",function(){b.incrementClickCount()}),this.render()},render:function(){var a=b.getCurrentCat();this.catNameElement.textContent=a.name,this.catCountElement.textContent=a.clicks,this.catImageElement.src=a.src}},d={init:function(){this.catList=document.getElementById("kittenList"),this.render()},render:function(){var a,c=document.createDocumentFragment(),d=b.getCats(),e=d.length;for(i=0;i<e;i+=1)a=document.createElement("li"),a.className="kittenListItem",a.id=d[i].name+"ListItem",a.innerHTML=d[i].name,a.addEventListener("click",this.attachEventListenter(d[i]),!1),c.appendChild(a);for(;this.catList.firstChild;)this.catList.removeChild(this.catList.firstChild);this.catList.appendChild(c)},attachEventListenter:function(a){return function(){b.swapCat(a),c.render()}}},e={init:function(){this.adminArea=document.getElementById("adminArea"),this.adminButton=document.getElementById("adminBtn"),this.adminVisible=!1,this.cancelButton=document.getElementById("cancelBtn"),this.submitButton=document.getElementById("submitBtn"),me=this,this.adminButton.addEventListener("click",function(a){me.adminVisible||(me.adminVisible=!0,me.render()),a.preventDefault()},!1),this.cancelButton.addEventListener("click",function(a){me.adminVisible&&(me.adminVisible=!1,me.render()),a.preventDefault()},!1),this.submitButton.addEventListener("click",function(a){var c={};c.name=document.getElementById("catNameInput").value,c.src=document.getElementById("catURLInput").value,c.clicks=parseInt(document.getElementById("catClicksInput").value,10),b.updateCurrentCat(c),a.preventDefault()},!1),this.render()},render:function(){var a=b.getCurrentCat(),c=document.getElementById("catNameInput"),d=document.getElementById("catURLInput"),e=document.getElementById("catClicksInput");this.adminVisible?(c.value=a.name,d.value=a.src,e.value=a.clicks,this.adminArea.className="show"):this.adminArea.className="hidden"}};b.init()}();